**一、前言**

前面学习了策略模式，接着学习观察者模式，观察者模式是一个很常用的模式，如订阅RSS这个功能就适合使用观察者模式来实现，园友订阅了博客园文章后，当博客园的文章有更新时，会收到相应的通知，这就是观察者模式的应用，并且JDK中都内置了对观察者模式的支持，下面来学习观察者模式。

**二、观察者模式定义**

**定义：观察者模式定义了对象之间的一对多依赖，这样一来，当一个对象改变状态时，它的所有依赖者都会收到通知并自动更新。**

**** 定义中的一通常称为主题，多称为观察者，当主题发生变化时，观察者会收到相应的变化，下面通过示例来演示观察者模式。

**三、示例**

**** 若有这样的一个场景，当园友订阅博客园文章后，博客园文章更新后，程序员需要收到更新的文章。这时，使用观察者模式最合适不过了。下面是类图

![](data:image/png;base64,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)

说明：Subject是主题接口，包含了三个方法，CNBlog是具体的主题，表示博客园，Oberser是观察者接口，包含了update方法，在主题发生变化时，update方法会被调用，Coder是具体的观察者，表示程序员。

3.1 v1.0

根据类图，代码如下

Subject

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    public interface Subject {
        void registerObserver(Observer observer);
        void removeObserver(Observer observer);
        void notifyObservers();
    }

View Code

Observer

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    public interface Observer {
        void update(String message);
    }

View Code

CNBlog

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    import java.util.ArrayList;
    import java.util.List;
    
    public class CNBlog implements Subject {
        private List<Observer> observers;
        private String message;
        
        public CNBlog() {
             observers = new ArrayList<Observer>();
        }
        
        @Override 
        public void registerObserver(Observer observer) {
            observers.add(observer);
        } 
        
        @Override
        public void removeObserver(Observer observer) {
            int index = observers.indexOf(observer);
            if (index >= 0) {
                observers.remove(index);
            }
        }
        
        @Override
        public void notifyObservers() {
            for (Observer observer : observers) {
                observer.update(message);
            }
        }
        
        /**
         * 模拟博客园的文章更新了
         * @param message
         */
        public void setMessage(String message) {
            this.message = message;
            // 有更新
            messageChanged();
        }
        
        private void messageChanged() {
            // 通知观察者
            notifyObservers();
        }
    }

View Code

Coder

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    public class Coder implements Observer {
        private String name;
        public Coder(String name) {
            this.name = name;
        }
        @Override
        public void update(String message) {
            System.out.println("I am " + name + ", received updated message from subject is [" + message + "]");
        }
    }

View Code

Main（用于测试）

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    /**
     * @since 2016/6/1
     * @author LEESF
     *
     */
    public class Main {
        public static void main(String[] args) {
            // 新生主题
            CNBlog cnBlog = new CNBlog();
            // 新生程序员
            Observer leesf = new Coder("leesf");
            // 向主题注册
            cnBlog.registerObserver(leesf);
            // 新生程序员
            Observer lee = new Coder("lee");
            // 向主题注册
            cnBlog.registerObserver(lee);
            
            // 模拟主题发生变化
            cnBlog.setMessage("leesf发布了一篇新文章");
            System.out.println("----------------------------------------");
            // 移除观察者
            cnBlog.removeObserver(lee);
            
            // 模拟主题发生变化
            cnBlog.setMessage("leesf又发布了一篇新文章");
        }
    }

View Code

运行结果

    
    
    I am leesf, received updated message from subject is [leesf发布了一篇新文章]
    I am lee, received updated message from subject is [leesf发布了一篇新文章]
    ----------------------------------------
    I am leesf, received updated message from subject is [leesf又发布了一篇新文章]

说明：首先，leesf与lee向CNBlog主题进行了注册，成为观察者，之后，CNBlog的信息发生变化，可以看到，此时，leesf与lee都收到了通知；之后，从主题中移除观察者lee，CNBlog的信息再次发生变化时，只有leesf收到了信息，而lee则不会收到信息。

这样的设计会使得系统极具扩展性，可以方便的添加其他主题或者观察者而不会影响之前的代码。如，可以添加一个CSDN主题、今日头条主题等，这些主题只需要实现Subject接口即可，同时，也可以添加其他类型观察者，如设计师、科学家等，这些观察者只需要实现Observer接口即可。类图如下图所示

![](data:image/png;base64,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)

说明：Coder向CNBlog、CSDN主题进行注册，成为它们观察者；Designer向TouTiao、CSDN主题进行注册，成为它们的观察者；Scientist想TouTiao注册，成为它的观察者。

3.2 v2.0

根据类图，代码如下

CSDN

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    import java.util.ArrayList;
    import java.util.List;
    
    public class CSDN implements Subject {
        private List<Observer> observers;
        private String message;
        
        public CSDN() {
            observers = new ArrayList<Observer>();
        }
        
        @Override 
        public void registerObserver(Observer observer) {
            observers.add(observer);
        } 
        
        @Override
        public void removeObserver(Observer observer) {
            int index = observers.indexOf(observer);
            if (index >= 0) {
                observers.remove(index);
            }
        }
        
        @Override
        public void notifyObservers() {
            for (Observer observer : observers) {
                observer.update(message);
            }
        }
        
        /**
         * 模拟CSDN的文章更新了
         * @param message
         */
        public void setMessage(String message) {
            this.message = message;
            // 有更新
            messageChanged();
        }
        
        private void messageChanged() {
            // 通知观察者
            notifyObservers();
        }    
    }

View Code

TouTiao

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    import java.util.ArrayList;
    import java.util.List;
    
    public class TouTiao implements Subject {
        private List<Observer> observers;
        private String message;
        
        public TouTiao() {
            observers = new ArrayList<Observer>();
        }
        
        @Override 
        public void registerObserver(Observer observer) {
            observers.add(observer);
        } 
        
        @Override
        public void removeObserver(Observer observer) {
            int index = observers.indexOf(observer);
            if (index >= 0) {
                observers.remove(index);
            }
        }
        
        @Override
        public void notifyObservers() {
            for (Observer observer : observers) {
                observer.update(message);
            }
        }
        
        /**
         * 模拟头条的的新闻更新了
         * @param message
         */
        public void setMessage(String message) {
            this.message = message;
            // 有更新
            messageChanged();
        }
        
        private void messageChanged() {
            // 通知观察者
            notifyObservers();
        }    
    }

View Code

Designer

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    public class Designer implements Observer {
        private String name;
        public Designer(String name) {
            this.name = name;
        }
        @Override
        public void update(String message) {
            System.out.println("I am " + name + ", received updated message from subject is [" + message + "]");
        }
    }

View Code

Scientist

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    public class Scientist implements Observer {
        private String name;
        public Scientist(String name) {
            this.name = name;
        }
        @Override
        public void update(String message) {
            System.out.println("I am " + name + ", received updated message from subject is [" + message + "]");
        }
    }

View Code

Main（用作测试）

![]()![]()

    
    
    package com.hust.grid.leesf.observer;
    
    /**
     * @since 2016/6/1
     * @author LEESF
     *
     */
    public class Main {
        public static void main(String[] args) {
            // 新生主题
            CNBlog cnBlog = new CNBlog();
            CSDN csdn = new CSDN();
            TouTiao touTiao = new TouTiao();
            
            // 新生程序员
            Observer leesf = new Coder("leesf");
            // 向CNBlog主题注册
            cnBlog.registerObserver(leesf);
            // 向CSDN主题注册
            csdn.registerObserver(leesf);
            
            // 新生设计师
            Observer dyd = new Coder("dyd");
            // 向CSDN主题注册
            csdn.registerObserver(dyd);
            // 向头条主题注册
            touTiao.registerObserver(dyd);
            
            // 新生科学家
            Observer ld = new Scientist("ld");
            // 向头条主题注册
            touTiao.registerObserver(ld);
            
            // 模拟主题发生变化
            cnBlog.setMessage("leesf在博客园上发布了一篇新文章");
            System.out.println("----------------------------------------");
            
            // 模拟主题发生变化
            csdn.setMessage("leesf在CSDN上发布了一篇新文章");
            System.out.println("----------------------------------------");
            
            // 模拟主题发生变化
            touTiao.setMessage("头条更新了新闻");
        }
    }

View Code

运行结果

    
    
    I am leesf, received updated message from subject is [leesf在博客园上发布了一篇新文章]
    ----------------------------------------
    I am leesf, received updated message from subject is [leesf在CSDN上发布了一篇新文章]
    I am dyd, received updated message from subject is [leesf在CSDN上发布了一篇新文章]
    ----------------------------------------
    I am dyd, received updated message from subject is [头条更新了新闻]
    I am ld, received updated message from subject is [头条更新了新闻]

说明：可以看到，不同的主题更新，会通知向该主题注册的观察者。并且新增的主题和观察者并没有修改原来的Subject、Observer代码，使得其具有很好的可维护性。

有了观察者的概念，再看JDK里面的观察者模式就会非常简单，有兴趣的读者可以自行查阅。笔者不再累赘。

**四、总结**

掌握了观察者模式后，在进行系统设计的时候，若可以使用观察者模式，则尽管去使用观察者模式吧，它会让你的系统更加灵活和易于扩展。所有源代码已经上传至[github](https://github.com/leesf/DesignPattern/tree/master)，欢迎fork，谢谢各位园友的观看~

